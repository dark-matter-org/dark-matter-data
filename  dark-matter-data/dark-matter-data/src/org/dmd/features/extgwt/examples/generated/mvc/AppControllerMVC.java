package org.dmd.features.extgwt.examples.generated.mvc;

import com.extjs.gxt.ui.client.mvc.Controller;
import com.extjs.gxt.ui.client.mvc.AppEvent;
import com.extjs.gxt.ui.client.event.EventType;
import com.extjs.gxt.ui.client.Registry;
import java.lang.String;
import java.lang.Throwable;

/**
 * The AppController provides overall application control and manages the
 * login process.
 * <P>
 * This code was auto-generated by the mvcgenerator utility and shouldn't be altered manually!
 * Generated from: org.dmd.features.extgwt.extended.MvcController.initCodeGenInfo(MvcController.java:70)
 */
abstract public class AppControllerMVC extends Controller {

    // Resources
    protected String mailappService;
    protected AppViewMVC appView;

    protected AppControllerMVC(){
        registerEventTypes(AppEventsMVC.AppError);
        registerEventTypes(AppEventsMVC.AppInit);
        registerEventTypes(AppEventsMVC.MailappLogin);
    }

    public void handleEvent(AppEvent event) {
        EventType type = event.getType();
        if (type == AppEventsMVC.AppError) {
            handleAppErrorEvent(event,(Throwable)event.getData());
        }
        else if (type == AppEventsMVC.AppInit) {
            forwardToView(appView,event);
        }
        else if (type == AppEventsMVC.MailappLogin) {
            forwardToView(appView,event);
        }
    }

    /**
     * The derived class must overload this method to handle the app.error event.
     * <P>
     * The error event can be generated by any component that experiences an
     * error.
     */
    abstract protected void handleAppErrorEvent(AppEvent event,Throwable data);

    /**
     * @return This provides a handle to the mail service instance.
     */
    protected String getMailappService(){
        if (mailappService == null)
            mailappService = (String) Registry.get("mailapp.service");
        return(mailappService);
    }

}
